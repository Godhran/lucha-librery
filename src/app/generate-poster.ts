import rough from 'roughjs/bin/rough';
/*
{ shape: "P", colour: "dark", cx: null, cy: null, rx: null, ry: null, path:``},
*/
let portraitMask=[
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M256,18C22,18,31,177,31,307c0,147,76,311,225,311s225-164,225-311C481,177,490,18,256,18z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M353,101c-93,0-97,34-97,34s-4-34-97-34c-68,0-82,57-159,2c0,0,11.14,34.55,26.55,73.22 C42.96,217.4,83,277,126,300c27.99,14.97,52.36,18.71,68.13,19.17C169.09,323.3,128,340.25,128,407c0,114,128,114,128,114 s128,0,128-114c0-66.75-41.09-83.7-66.13-87.83c15.77-0.46,40.14-4.2,68.13-19.17c43-23,83.04-82.6,99.45-123.78 C500.86,137.55,512,103,512,103C435,158,421,101,353,101z` },
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M306,336c0,55.23-100,55.23-100,0s22.39-100,50-100S306,280.77,306,336z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M296,330.28c0,19.72-80,24.72-80,0c0-44.18,17.91-80,40-80S296,286.1,296,330.28z` },
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M259.39,478.5c23.9-3.06,97.12-39.62,94.31-63.55c-2.51-21.4-39.7-32.81-96.35-32.81 c-63.34,0-97.33,18.06-98.41,45.1C157.81,455.41,233.89,481.76,259.39,478.5z` },
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M85.92,195.78C91.64,175.2,145.14,161.41,166,166c50,11,64.16,42.86,59,64 c-5.48,22.43-38,47-86.84,31.39C118.19,255,80.3,215.98,85.92,195.78z` },
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M424.05,196.2c-5.72-20.58-59.22-34.37-80.08-29.78c-50,11-64.16,42.86-59,64 c5.48,22.43,38,47,86.84,31.39C391.78,255.42,429.66,216.4,424.05,196.2z` }
]

let figureBody = [
    { shape: "P", fillStyle: "solid", colour: "light", path: `M359.27,380.07C343,422,224.2,477.91,224.2,477.91s-21.74,42.34-19.67,54.24 c2.46,14.16,37.75,49.98,37.75,49.98l19.14,68.06c0,0-0.53,7.44,38.29,11.17c50.37,4.83,120.55-87.58,124.43-132.94 c1.33-15.55-8.15-25.52-9.04-38.29c-1.6-22.99-1.85-55.67-10.1-69.66c-18.39-31.16-37.75-27.12-37.75-27.12 S360.38,377.21,359.27,380.07` },
    { shape: "P", fillStyle: "solid", colour: "light", path: `M589,285l-11-43l3-10l-3-10l-10-10c0,0-16-2-18-3s-8,5-8,5l-6,12l-0.36,10c0,0,1.36,3,6.36,3 s15,9,15,9v9l-7,61c0,0,0-1-8-6s-15-5-15-5l-15,5c0,0,1,0-10.33,9.53c-4.03,3.39-9.19,7.59-14.18,11.59L452,328l-15,13l-5,2l-17-7 l-12,2l-9,7l-8,10l-12-32l-13-32c0,0,0-1,4-8s0-1,8-5s2-7,2-7l-2-10l-4-8c0,0,0-1-8-4s-11,3-11,3s0,0-10,5l-6,5l-1.74,11.92 L338,287l-2,29l4,29l19,41l32,20l18.26,25.65L415,471v31l51.25,47.42L515,508l7-86l2.99-12.14L529,404l3-36l1.24-3.35L560,350 l29-19l4-19L589,285z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M435.31,429.52c8.51,4.25,18.28,12.23,24.46,12.23s17.55-8.51,24.99-12.23 c4.85-2.42-12.96,17.64-28.71,15.42C444.73,443.34,430.79,427.26,435.31,429.52z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M437.44,444.94c0,0,8.86,5.53,12.23,5.85c2.6,0.25,11.7-1.06,11.7-1.06s-9.26,4.53-12.76,4.25 C444.57,453.66,437.44,444.94,437.44,444.94z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M434.25,452.92c0,0,8.86,5.53,12.23,5.85c2.6,0.25,11.7-1.06,11.7-1.06s-9.26,4.53-12.76,4.25 C441.38,461.64,434.25,452.92,434.25,452.92z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M431.59,462.49c0,0,8.86,5.53,12.23,5.85c2.6,0.25,11.7-1.06,11.7-1.06s-9.26,4.53-12.76,4.25 C438.72,471.21,431.59,462.49,431.59,462.49z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M492.21,398.14c-2.1,1.08,3.97,8.55,6.38,17.02c2.62,9.22-4.06,17.31-1.6,17.02 c2.83-0.34,5.85-9.57,3.19-18.61C498.28,407.08,494.39,397.02,492.21,398.14z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M509.22,415.16c-0.71,0.1,15.86-5.98,13.29-3.72c2-1.75,4.25-11.7,4.25-11.7 s0,10.1-4.79,15.42C519.41,418.03,509.22,415.16,509.22,415.16z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M473.6,468.87c0,0,16.38-24.72,24.99-23.93c7.02,0.64,16.48,22.87,16.48,22.87 s-10.86-14.94-16.48-15.42C491.13,451.75,473.6,468.87,473.6,468.87z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M491.58,348.08c0,0,12.19-5.15,16.02-5.19c5.03-0.06,19.17,5.33,19.17,5.33 s-14.2-10.69-19.8-10.33C502.52,338.18,491.58,348.08,491.58,348.08z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M415.1,372.62c0,0,14.13-10.35,19.14-11.7c6.58-1.77,27.12,0,27.12,0s-22.56-8.17-29.78-5.85 C425.86,356.92,415.1,372.62,415.1,372.62z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M405,420.48c0,0-3.19-15.02-3.19-19.14c0-3.19,3.19-14.36,3.19-14.36 c-5.03-2.17-13.83,17.02-13.83,17.02L405,420.48z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M579.48,239.44c0,0,5.53-3.83,1.81-16.59c-4.79-16.41-19.44-15.31-25.65-15.78 c-22.65-1.7-18.99,12.74-18.99,12.74s-5.85,0.05-2.86,10.3c1.8,6.17,3.93,13.62,8.74,13.95c12.52,0.85,12.77,7.42,12.77,7.42 c-8.48,24.08-9.22,61.41-9.22,61.41s-11.02-11.19-27.35-6.42c-12.76,3.72-9.59,8.89-18.27,11.42c-9.7,2.83-18.97-9.97-19.02-31.01 c-0.01-5.57-7.23,5.69-6.59,9.68c1.75,10.98,13.38,25.78,23.74,26.31c12.76-3.72,5.15-7.04,25.56-13 c7.75-1.5,25.31,7.02,27.85,15.69c0,0,0.79-21.26,2.02-31.05c1.06-8.46,5.38-30.93,7.14-41.97c0.93-5.82-9.34-12.54-18.78-15.01 c-3-0.79-4.05-9.28-2.34-13.72c1.69-4.4,0.32-8.4,9.51-11.08c4.71-1.37,19.5,0.4,24.95,7.67c6.05,8.08,0.92,20.23,0.92,20.23 s22.41,65.67,13.06,83.6c-6.38,12.23-61.68,42.01-61.68,42.01c5.85,24.46-11.7,46.79-17.02,140.91c-0.01,0.16,0,3.08,0.04,7.49 l-39.05,42.52c-8.55-16.06-26.93-39.37-26.93-39.37l-25.46-13.61c0.29-1.47,0.47-2.55,0.47-2.87c0-74.45-20.74-97.84-20.74-97.84 c-72.32-22.33-57.43-116.45-57.43-116.45s-8.33-10.23-4.79-19.67c3.19-8.51,16.9-14.36,21.8-14.36c9.57,0,9.38,4.23,12.23,7.98 c2.88,3.79,4.25,12.23,1.6,13.83c-8.37,5.02-16.35,14.35-13.83,19.67c4.79,10.1,15.22,30.46,18.61,38.29 c3.92,9.06,10.64,29.25,10.64,29.25c0-9.04,14.47-22.13,22.33-22.87c21.27,0,14.89,5.32,28.18,5.32 c9.8-3.41,16.82-20.88,15.42-31.91c-0.51-4.01-10.59-12.79-9.04-7.44c5.85,20.21,0.53,35.1-9.57,35.1c-9.04,0-7.44-5.85-20.74-5.85 c-17.02,0-24.46,13.83-24.46,13.83s-11.17-35.63-26.06-56.37c0,0-1.6-6.38,10.18-10.7c4.52-1.66,4.49-9.41,4.49-15.84 c0-10.68-5.63-9.09-5.63-9.09s-0.53-14.89-21.8-6.91c-5.83,2.19-20.21,5.24-20.21,22.33c0,13.29,4.79,19.67,4.79,19.67 s-9.04,35.1,13.51,84.02c17.34,35.63,56.69,24.46,62.82,74.19c1.02,8.25,2.36,34.67,3.19,52.56l-1.36-0.72 c0,0-8.22,31.59-11.17,42.54c-3.72,13.83-25.52,61.15-38.82,66.47c-38.32,15.33-42.01,26.59-42.01,26.59l15.5,31.67 c0,0,28.31-0.65,58.94-15.72c31.69-15.58,54.24-77.84,75.09-80.71c2.02,13.44,5.71,33.18,10.52,37.64c0,0-35.12-6.52-43.6,1.6 c0,0-12.76,27.12-26.06,43.07c0,0,101.81,23.11,130.45-5.53c23.02-23.02-21.11-131.92-24.9-141.14c0.17-2.71,0.27-4.35,0.27-4.35 s9.53-74.41,7.44-87.21c3.9-2.4,11.7-16.48,11.7-51.05c0,0,49.38-21.89,56.37-37.75C601.66,307.08,579.48,239.44,579.48,239.44z` },
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M320.98,636.9c0,0-43.55,18.6-54.24,29.78c-9.95,10.4-43.32,33.75-25.41,51.6 c19.47,19.47,38.97,14.92,52-20.28c5.32-14.36,43.07-29.25,43.07-29.25L320.98,636.9z` },
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M413.34,494.92c0-0.37,36.32,29.25,60.25,29.25c24.99,0,43.77-24.99,43.77-24.99s3.31,4.49-0.17,12.76 c-9.42,22.39-34.55,65.04-51.58,64.87c-10.17-0.1-9.47-19.55-19.14-32.97c-9.8-13.6-28.18-22.38-34.56-34.5 C409.55,504.77,413.34,501.53,413.34,494.92z` },
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M350.76,393.36c0,0-13.83,20.21-43.6,32.97c-31.05,13.31-103.77,44.55-110.6,77.64 c-10.1,48.92,27.07,71.5,42.01,87.74c14.17,15.41-5.32,65.94,35.1,65.94c0,0-24.99-20.74-24.99-69.13c0-17.06-41.08-45-38.29-63.28 c7.71-50.45,165.2-60.46,171.22-111.14C382.7,404.87,350.76,393.36,350.76,393.36z` },
]

let figureFace = [
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M448.1,331.69c-14.43-17.38-45.88-76.55-1.17-90.35c40.65-12.54,49.12,22.04,55.89,37.44 c6.45,14.66,5.09,54.37-8.03,63.55C484.98,349.19,455.75,340.9,448.1,331.69z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M434.97,280.09c0,0,15.66,21.88,34.96,15.92c0,0,0.89,0.83-0.39,2.35 c-2.88,3.42-9,10.52-5.85,20.73c4.18,13.56,23.26,11.74,24.64,11.32c6.87-2.12,15.28-11.87,15.98-20.35 c0.95-11.59-13.08-20.62-7.45-22.35c8.13-2.51,7.87-28.58,7.87-28.58c-7.11,2.2-10.75-0.58-18.37,1.77 c-4.26,1.31-12.89,12.32-12.89,12.32s-8.96-5.58-18.61-2.6C449.55,272.25,446.26,278.83,434.97,280.09z` },
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M478.45,298.39c-3.37-2.39-1.96-12.2,1.98-13.41c4.32-1.33,9.29,5.89,8.18,10.28 C487.83,298.35,481.06,300.24,478.45,298.39z` },
    { shape: "P", fillStyle: "solid", colour: "colour", path: `M479.86,295.73c-1.72-1.18-1.18-7.66,0.7-8.56c1.93-0.93,6.9,4.28,6.42,6.37 c-0.24,1.02-1.33-0.7-3.87,0.08C481.58,294.09,480.64,296.27,479.86,295.73z` },
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M455.96,285.53c-0.96-2.39,1.75-7.83,5.8-8.51c4.11-0.69,7.71,0.85,8.55,2.95 c0.81,2.03,0.4,4.73-4.02,7.76C464.11,289.21,456.95,287.97,455.96,285.53z` },
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M483.25,277.83c-0.96-2.39,1.75-7.83,5.8-8.51c4.11-0.69,7.71,0.85,8.55,2.95 c0.81,2.03,0.4,4.73-4.02,7.76C491.4,281.51,484.24,280.28,483.25,277.83z` },
    { shape: "P", fillStyle: "solid", colour: "dark", path: `M489,318c2.66-1.04,10.01-7.33,9-10c-0.9-2.38-9.56-1.74-12-1c-3.05,0.92-10.65,4.87-10,8 C476.68,318.27,486.17,319.11,489,318z` },
]

export default function generatePoster(rc, palette, figure, portraitMask, figureMask) {
    // let palette = {
    //     light: "#d1b48c",
    //     colour: "#e34262",
    //     dark: "#2c1b2e"
    // };
    console.log("Boo");
    console.log(rc);
    console.log(hexToRGBA(palette.dark, 0.5));
    // averageHex(palette.colour,palette.light);
    let bgColour = hexToRGBA(palette.colour, 0.35);
    rc.rectangle(0, 0, 600, 900, { bowing: 0, fillStyle: "solid", fill: palette.light });
    for (let count = 0; count < 19; count ++) {
        // console.log(count);
        rc.rectangle(0, 50*count, 600, 26, { bowing: 15, fillStyle: "cross-hatch", fill: bgColour, stroke: bgColour });
    }
    
    // portraitMask.forEach(part => {
    //     rc.path(part.path, {
    //         stroke: palette[part.colour],
    //         strokeWidth: 2,
    //         fillStyle: part.fillStyle,
    //         fill: palette[part.colour]
    //     });
    // });

    portraitMask.forEach(part => {
        rc.path(part.path, {
            stroke: palette[part.colour],
            strokeWidth: 2,
            fillStyle: part.fillStyle,
            fill: palette[part.colour]
        });
    });

    figure.forEach(part => {
        rc.path(part.path, {
            stroke: palette[part.colour],
            strokeWidth: 2,
            fillStyle: part.fillStyle,
            fill: palette[part.colour]
        });
    });

    figureMask.forEach(part => {
        rc.path(part.path, {
            stroke: palette[part.colour],
            strokeWidth: 2,
            fillStyle: part.fillStyle,
            fill: palette[part.colour]
        });
    });

    // rc.path(`M353,101c-93,0-97,34-97,34s-4-34-97-34c-68,0-82,57-159,2c0,0,11.14,34.55,26.55,73.22 C42.96,217.4,83,277,126,300c27.99,14.97,52.36,18.71,68.13,19.17C169.09,323.3,128,340.25,128,407c0,114,128,114,128,114
    // s128,0,128-114c0-66.75-41.09-83.7-66.13-87.83c15.77-0.46,40.14-4.2,68.13-19.17c43-23,83.04-82.6,99.45-123.78
    // C500.86,137.55,512,103,512,103C435,158,421,101,353,101z`, {
    //     stroke: palette.dark,
    //     strokeWidth: 2,
    //     fillStyle: "cross-hatch",
    //     fill: palette.dark
    // });
    return rc;
};

// function averageHex(hexA, hexB) {
//     let aHexA = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hexA);
//     let aHexB = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hexB);
//     console.log(aHexA);
//     console.log(aHexB);
//     return `rgba(${parseInt(result[1], 16)},${parseInt(result[2], 16)},${parseInt(result[3], 16)},${alpha})`;
// }


function hexToRGBA(hex, alpha) {
    let result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
    return `rgba(${parseInt(result[1], 16)},${parseInt(result[2], 16)},${parseInt(result[3], 16)},${alpha})`;
}
// export default generatePoster;
